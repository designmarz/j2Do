$(document).ready(function(){function e(e){this.todo=e,this.completed=!1,this.createdAt=Date(),this.dueDate=$("#datepicker").datepicker("getDate")}function t(e){for(var t=0;t<e.length;t++)console.log(e[t].todo),console.log(e[t].dueDate),console.log(e[t].completed),console.log(e[t].createdAt)}function o(){$(".done-btn").click(function(){console.log($(this).parent()),console.log("Done Button Clicked ");var e=$(this).parent().parent().index();console.log(e),$(this).parent().parent().toggleClass("done-item");var t="false";"false"===$(this).parent().parent().attr("data-done")?($(this).parent().parent().attr("data-done","true"),t="true",console.log(t),r(e,t)):"true"===$(this).parent().parent().attr("data-done")&&($(this).parent().parent().attr("data-done","false"),t="false",console.log(t),r(e,t)),console.log("Done State "+t)}),$(".del-btn").click(function(e){e.preventDefault(),console.log("Delete Button Clicked ");var t=$(this).parent().parent().index();l(t),$(this).parent().parent().fadeOut("slow",function(){$(this).remove()})})}function n(){for(var e=$(".todo-item"),t=e.length-1;t>=0;t--)"true"===$(e).eq(t).attr("data-done")&&(console.log("Item Done:"+$(e).eq(t).find("input").attr("checked")),$(e).eq(t).find("input").attr("checked","checked"),$(e).eq(t).addClass("done-item"))}function a(e){console.log(" addItem function");var t=i.replace("%data%",e.todo).replace("%dueDate%",e.dueDate).replace("%done%",e.completed);$(p).prepend(t)}function l(e){console.log(" Delete function");var t=JSON.parse(localStorage.getItem(s));t.splice(e,1),localStorage.setItem(s,JSON.stringify(t))}function r(e,t){var o=JSON.parse(localStorage.getItem(s));console.log("Update Item: "+t),o[e].completed=t,console.log(o[e].completed),localStorage.setItem(s,JSON.stringify(o)),console.log(o)}function c(){for(var e=JSON.parse(localStorage.getItem(s)),t=e.length-1;t>=0;t--)a(e[t]);return o(),n(),e}function d(e){var t=c();0===t.length&&(t=[]),t.push(e),localStorage.setItem(s,JSON.stringify(t))}var s="dashMe_todos_dev",i='<li class="todo-item" data-due="%dueDate%" data-done="%done%">%data% <span class="todo-item-controls"> <input type=checkbox class="done-btn"></input>  <a href="#" class="del-btn">Delete</a><span></li>',p="#todo-list";$("#add-btn").click(function(t){t.preventDefault();var l=$("#todoEnter").val();if(""===l)return!1;var r=new e(l);$(p).children().remove(),a(r),d(r),$("#todoEnter").val(""),o(),n()}),$(function u(){var e=c();$("#datepicker").datepicker({defaultDate:7,nextText:"Later"}),t(e),console.log()})});